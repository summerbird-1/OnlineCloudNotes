{"remainingRequest":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js!D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\src\\views\\self\\childrens\\Notes.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\src\\views\\self\\childrens\\Notes.vue","mtime":1703320567695},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\babel.config.js","mtime":1703320567604},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\babel-loader@8.3.0\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE5vdGVJdGVtIGZyb20gJy4vTm90ZUl0ZW0udnVlJzsKaW1wb3J0IHsgZ2V0VXNlckFsbE5vdGVzQnlVc2VySWQsIGRlbGV0ZU5vdGVzIH0gZnJvbSAnQC9uZXR3b3JrL3NlbGYvaW5kZXguanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5vdGVzTGlzdDogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBwYWdlU2l6ZTogNiwKICAgICAgLy8g5LiA6aG15pi+56S6NuS4qgogICAgICBjdXJyZW50UGFnZTogMSAvLyDlvZPliY3pobUKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBOb3RlSXRlbQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWPquacieS4gOmhteaXtuaYr+WQpumakOiXj+WIhumhtQogICAgaXNTaW5nbGVQYWdlKCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbCA8PSB0aGlzLnBhZ2VTaXplOwogICAgfSwKICAgIGlzRW1wdHkoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvdGFsID09IDA7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhKCkgewogICAgICBnZXRVc2VyQWxsTm90ZXNCeVVzZXJJZCh0aGlzLmN1cnJlbnRQYWdlLCB0aGlzLnBhZ2VTaXplLCB0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mby51c2VyaWQpLnRoZW4oKHsKICAgICAgICBkYXRhCiAgICAgIH0pID0+IHsKICAgICAgICB0aGlzLm5vdGVzTGlzdCA9IGRhdGEucm93czsKICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgdXBkYXRlQ3VycmVudFBhZ2UoY3VycmVudFBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICB0aGlzLmdldERhdGEoKTsKICAgIH0sCiAgICBkZWxldGVOb3RlcygpIHsKICAgICAgY29uc3Qgbm90ZXMgPSB0aGlzLiRzdG9yZS5zdGF0ZS5zZWxmLmRlbGV0ZU5vdGVzOwogICAgICBpZiAobm90ZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nopoHliKDpmaTnmoTnrJTorrAnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6Zmk5bey6YCJ5oup55qE56yU6K6w5ZCX77yfJywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGRlbGV0ZU5vdGVzKHsKICAgICAgICAgIG5vdGVzCiAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIoOmZpOaIkOWKnycpOwogICAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["NoteItem","getUserAllNotesByUserId","deleteNotes","data","notesList","total","pageSize","currentPage","components","created","getData","computed","isSinglePage","isEmpty","methods","$store","state","userInfo","userid","then","rows","updateCurrentPage","notes","self","length","$message","warning","$confirm","confirmButtonText","cancelButtonText","type","success"],"sources":["src/views/self/childrens/Notes.vue"],"sourcesContent":["<template>\r\n  <div class=\"self-notes\">\r\n    <div class=\"title\">My Notes</div>\r\n\r\n    <div class=\"delete-notes-btn\">\r\n      <el-button type=\"primary\" @click=\"deleteNotes\">delete notes</el-button>\r\n    </div>\r\n    <div class=\"notes-select\" v-if=\"!isEmpty\">\r\n      <NoteItem\r\n        v-for=\"(item, index) in notesList\"\r\n        :itemData=\"item\"\r\n        :key=\"index\"\r\n      />\r\n\r\n      <div class=\"page\">\r\n        <el-pagination\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :hide-on-single-page=\"isSinglePage\"\r\n          :page-size=\"pageSize\"\r\n          :total=\"total\"\r\n          :current-page=\"currentPage\"\r\n          @current-change=\"updateCurrentPage\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n    <el-empty style=\"flex: 1\" :image-size=\"300\" v-else></el-empty>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NoteItem from './NoteItem.vue'\r\nimport { getUserAllNotesByUserId, deleteNotes } from '@/network/self/index.js'\r\nexport default {\r\n  data() {\r\n    return {\r\n      notesList: [],\r\n      total: 0,\r\n      pageSize: 6, // 一页显示6个\r\n      currentPage: 1 // 当前页\r\n    }\r\n  },\r\n  components: { NoteItem },\r\n  created() {\r\n    this.getData()\r\n  },\r\n  computed: {\r\n    // 只有一页时是否隐藏分页\r\n    isSinglePage() {\r\n      return this.total <= this.pageSize\r\n    },\r\n    isEmpty() {\r\n      return this.total == 0\r\n    }\r\n  },\r\n  methods: {\r\n    getData() {\r\n      getUserAllNotesByUserId(\r\n        this.currentPage,\r\n        this.pageSize,\r\n        this.$store.state.userInfo.userid\r\n      ).then(({ data }) => {\r\n        this.notesList = data.rows\r\n        this.total = data.total\r\n      })\r\n    },\r\n    updateCurrentPage(currentPage) {\r\n      this.currentPage = currentPage\r\n      this.getData()\r\n    },\r\n    deleteNotes() {\r\n      const notes = this.$store.state.self.deleteNotes\r\n      if (notes.length === 0) {\r\n        this.$message.warning('请选择要删除的笔记')\r\n        return\r\n      }\r\n\r\n      this.$confirm('确定删除已选择的笔记吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        deleteNotes({ notes }).then(() => {\r\n          this.$message.success('删除成功')\r\n          this.getData()\r\n        })\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.self-notes {\r\n  padding: 40px 60px 0px 30px;\r\n  display: flex;\r\n\r\n  position: relative;\r\n\r\n  .title {\r\n    font-size: 25px;\r\n    font-weight: 900;\r\n    padding-right: 80px;\r\n    padding-top: 30px;\r\n  }\r\n\r\n  .delete-notes-btn {\r\n    position: absolute;\r\n    top: 0px;\r\n    right: 0px;\r\n    padding: 10px 15px 0px 0px;\r\n  }\r\n\r\n  .notes-select {\r\n    flex: 1;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n\r\n    .page {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      margin: 20px 0px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAgCA,OAAAA,QAAA;AACA,SAAAC,uBAAA,EAAAC,WAAA;AACA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,KAAA;MACAC,QAAA;MAAA;MACAC,WAAA;IACA;EACA;EACAC,UAAA;IAAAR;EAAA;EACAS,QAAA;IACA,KAAAC,OAAA;EACA;EACAC,QAAA;IACA;IACAC,aAAA;MACA,YAAAP,KAAA,SAAAC,QAAA;IACA;IACAO,QAAA;MACA,YAAAR,KAAA;IACA;EACA;EACAS,OAAA;IACAJ,QAAA;MACAT,uBAAA,CACA,KAAAM,WAAA,EACA,KAAAD,QAAA,EACA,KAAAS,MAAA,CAAAC,KAAA,CAAAC,QAAA,CAAAC,MACA,EAAAC,IAAA;QAAAhB;MAAA;QACA,KAAAC,SAAA,GAAAD,IAAA,CAAAiB,IAAA;QACA,KAAAf,KAAA,GAAAF,IAAA,CAAAE,KAAA;MACA;IACA;IACAgB,kBAAAd,WAAA;MACA,KAAAA,WAAA,GAAAA,WAAA;MACA,KAAAG,OAAA;IACA;IACAR,YAAA;MACA,MAAAoB,KAAA,QAAAP,MAAA,CAAAC,KAAA,CAAAO,IAAA,CAAArB,WAAA;MACA,IAAAoB,KAAA,CAAAE,MAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACA;MACA;MAEA,KAAAC,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAX,IAAA;QACAjB,WAAA;UAAAoB;QAAA,GAAAH,IAAA;UACA,KAAAM,QAAA,CAAAM,OAAA;UACA,KAAArB,OAAA;QACA;MACA;IACA;EACA;AACA"}]}