{"remainingRequest":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\src\\views\\notes\\childrens\\NoteContent.vue?vue&type=style&index=0&id=68807e58&lang=less","dependencies":[{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\src\\views\\notes\\childrens\\NoteContent.vue","mtime":1703320567684},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\css-loader@3.6.0\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\postcss-loader@3.0.0\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\less-loader@5.0.0\\node_modules\\less-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\cache-loader@4.1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2718075060\\Desk\\sspku\\云计算\\Note\\note-front\\node_modules\\.store\\vue-loader@15.11.1\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubm90ZS1jb250ZW50IHsNCiAgZmxleDogMTsNCiAgYmFja2dyb3VuZDogI2ZmZjsNCiAgYm9yZGVyLXJhZGl1czogNXB4Ow0KICBib3JkZXI6IDFweCBzb2xpZCAjZGNkY2RjOw0KICBib3JkZXItYm90dG9tOiBub25lOw0KICAvLyDop6PlhrNmbGV477yaMeiiq+aSkeW8gOWvvOiHtOa7muWKqOadoeaYvuekuuW8guW4uA0KICAvLyBvdmVyZmxvdy15OiBoaWRkZW47DQoNCiAgLy8gLnNjcm9sbGJhciB7DQogIC8vIGhlaWdodDogMTAwJTsNCg0KICAvLyDpmpDol4/mqKrlkJHmu5rliqjmnaENCiAgLy8gJiA+IC5lbC1zY3JvbGxiYXJfX3dyYXAgew0KICAvLyAgIG92ZXJmbG93LXg6IGhpZGRlbjsNCiAgLy8gfQ0KDQogIC5zY3JvbGxiYXItd3JhcCB7DQogICAgcGFkZGluZzogMjBweCA5MHB4Ow0KDQogICAgLm5vdGUtY29udGVudC1za2VsZXRvbi10aXRsZSB7DQogICAgICB3aWR0aDogNDAlOw0KICAgICAgbWFyZ2luOiBhdXRvOw0KICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsNCiAgICB9DQogICAgLm5vdGUtY29udGVudC1za2VsZXRvbi1ub3RlLWRldGFpbCB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgIH0NCiAgICAubm90ZS1jb250ZW50LXNrZWxldG9uLWF1dGhvciB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIG1hcmdpbi10b3A6IDEwcHg7DQogICAgfQ0KDQogICAgLmhlYWRlciB7DQogICAgICBmb250LXNpemU6IDIwcHg7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4Ow0KICAgIH0NCg0KICAgIC5ub3RlLWRldGFpbCB7DQogICAgICBjb2xvcjogI2I3YjdiNzsNCiAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgLy8gcGFkZGluZy1sZWZ0OiAyMHB4Ow0KDQogICAgICAuYWN0aXZlIHsNCiAgICAgICAgY29sb3I6ICM0MDllZmY7DQogICAgICB9DQoNCiAgICAgICYgPiBzcGFuIHsNCiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4Ow0KDQogICAgICAgIC5kaWFuemFuIHsNCiAgICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICAgJjpob3ZlciB7DQogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgLmppYXhpbmdzaG91Y2FuZyB7DQogICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lOw0KICAgICAgICAgICY6aG92ZXIgew0KICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCg0KICAgIC5hdXRob3Igew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBtYXJnaW46IDEwcHggMHB4Ow0KDQogICAgICAmID4gc3BhbiB7DQogICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgbWFyZ2luOiAwcHggNXB4Ow0KICAgICAgfQ0KDQogICAgICAuZ3JhZGUgew0KICAgICAgICBiYWNrZ3JvdW5kOiAjZWEzODY5Ow0KICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgZm9udC1zaXplOiAxMnB4Ow0KICAgICAgICBib3JkZXItcmFkaXVzOiAycHg7DQogICAgICAgIHBhZGRpbmc6IDJweCAxcHg7DQogICAgICB9DQogICAgfQ0KDQogICAgLmxpa2Ugew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICAgIHBhZGRpbmc6IDhweCAwcHg7DQoNCiAgICAgIGNvbG9yOiAjYmJiYmJiOw0KICAgICAgLmFjdGl2ZSB7DQogICAgICAgIGNvbG9yOiAjNDA5ZWZmOw0KICAgICAgfQ0KICAgICAgLmRpYW56YW4gew0KICAgICAgICBmb250LXNpemU6IDIwcHg7DQogICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsNCiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICY6aG92ZXIgew0KICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgZm9udC1zaXplOiAxM3B4Ow0KICAgIH0NCiAgICAuY29tbWVudCB7DQogICAgICBiYWNrZ3JvdW5kOiAjZmFmYmZkOw0KICAgIH0NCiAgfQ0KICAvLyB9DQp9DQo="},{"version":3,"sources":["NoteContent.vue"],"names":[],"mappings":";AAmMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"NoteContent.vue","sourceRoot":"src/views/notes/childrens","sourcesContent":["<template>\r\n  <div class=\"note-content\" ref=\"contentRef\">\r\n    <!-- <el-scrollbar class=\"scrollbar\"> -->\r\n    <div class=\"scrollbar-wrap\">\r\n      <el-skeleton :loading=\"loading\" animated>\r\n        <template v-if=\"contentData\">\r\n          <div class=\"header\">{{ contentData.title }}</div>\r\n          <div class=\"note-detail\">\r\n            <span>{{ contentData.tag }}</span>\r\n            <span>{{ contentData.createdTime }}</span>\r\n            <span :class=\"isLike\">\r\n              {{ contentData.likeNum }}\r\n              <i\r\n                class=\"iconfont icon-dianzan dianzan\"\r\n                @click=\"handleDianZan\"\r\n              ></i>\r\n            </span>\r\n            <span :class=\"isCollect\">\r\n              {{ contentData.collectNum }}\r\n              <i\r\n                class=\"iconfont icon-jiaxingshoucang jiaxingshoucang\"\r\n                @click=\"handleCollect\"\r\n              ></i>\r\n            </span>\r\n          </div>\r\n          <div class=\"author\">\r\n            <el-avatar :size=\"28\" :src=\"contentData.user.avatarUrl\">\r\n            </el-avatar>\r\n            <span>{{ contentData.user.userid }}</span>\r\n            <div class=\"grade\">LV 1</div>\r\n          </div>\r\n        </template>\r\n        <template slot=\"template\">\r\n          <div style=\"text-align: center\">\r\n            <el-skeleton-item\r\n              class=\"note-content-skeleton-title\"\r\n              variant=\"h1\"\r\n            />\r\n            <div class=\"note-content-skeleton-note-detail\">\r\n              <el-skeleton-item\r\n                variant=\"text\"\r\n                style=\"margin-right: 20px; width: 50px\"\r\n              />\r\n              <el-skeleton-item\r\n                variant=\"text\"\r\n                style=\"margin-right: 20px; width: 150px\"\r\n              />\r\n              <el-skeleton-item\r\n                variant=\"text\"\r\n                style=\"margin-right: 20px; width: 30px\"\r\n              />\r\n              <el-skeleton-item\r\n                variant=\"text\"\r\n                style=\"margin-right: 20px; width: 30px\"\r\n              />\r\n            </div>\r\n            <div class=\"note-content-skeleton-author\">\r\n              <el-skeleton-item\r\n                variant=\"image\"\r\n                style=\"margin-right: 10px; width: 32px; height: 32px\"\r\n              />\r\n              <el-skeleton-item\r\n                variant=\"text\"\r\n                style=\"margin-right: 5px; width: 60px\"\r\n              />\r\n              <el-skeleton-item variant=\"text\" style=\"width: 40px\" />\r\n            </div>\r\n          </div>\r\n        </template>\r\n      </el-skeleton>\r\n\r\n      <div class=\"notes\"><Note :contentText=\"contentText\" /></div>\r\n\r\n      <div class=\"like\">\r\n        <i\r\n          class=\"iconfont icon-dianzan dianzan\"\r\n          :class=\"isLike\"\r\n          @click=\"handleDianZan\"\r\n        ></i>\r\n        <span v-if=\"!isLike\">Click Here if You Like It</span>\r\n        <span v-else>Liked</span>\r\n      </div>\r\n      <div class=\"comment\">\r\n        <NoteCommentContainer />\r\n      </div>\r\n    </div>\r\n    <!-- </el-scrollbar> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NoteCommentContainer from './NoteCommentContainer.vue';\r\nimport Note from './Note.vue';\r\nimport {\r\n  insertDianzanOne,\r\n  insertCollectOne,\r\n  deleteDianzanOne,\r\n  deleteCollectOne,\r\n} from '@/network/note/index.js';\r\n\r\nexport default {\r\n  props: {\r\n    contentData: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n    };\r\n  },\r\n  components: { NoteCommentContainer, Note },\r\n  computed: {\r\n    contentText() {\r\n      return this.contentData ? this.contentData.content : '';\r\n    },\r\n    isLike() {\r\n      if (!this.contentData) return; // 没有数据 直接return\r\n      return this.contentData.relation.isLike === 1 ? 'active' : '';\r\n    },\r\n    isCollect() {\r\n      return this.contentData.relation.isCollect === 1 ? 'active' : '';\r\n    },\r\n  },\r\n  methods: {\r\n    handleDianZan() {\r\n      if (!this.isLogin()) {\r\n        this.$message.warning('请登录之后再进行操作');\r\n        return;\r\n      }\r\n      if (this.isLike === '') {\r\n        // 当前用户还未给这篇笔记点过赞\r\n        insertDianzanOne(this.getDianZanDto()).then((res) => {\r\n          console.log(res);\r\n          // 刷新数据\r\n          this.reloadGetData();\r\n        });\r\n      } else {\r\n        // 当前用户已经给这篇笔记点过赞\r\n        deleteDianzanOne(this.getDianZanDto()).then((res) => {\r\n          console.log(res);\r\n          // 刷新数据\r\n          this.reloadGetData();\r\n        });\r\n      }\r\n    },\r\n    handleCollect() {\r\n      if (!this.isLogin()) {\r\n        this.$message.warning('请登录之后再进行操作');\r\n        return;\r\n      }\r\n      if (this.isCollect === '') {\r\n        // 当前用户还未给这篇笔记点过赞\r\n        insertCollectOne(this.getDianZanDto()).then((res) => {\r\n          console.log(res);\r\n          // 刷新数据\r\n          this.reloadGetData();\r\n        });\r\n      } else {\r\n        // 当前用户已经给这篇笔记点过赞\r\n        deleteCollectOne(this.getDianZanDto()).then((res) => {\r\n          console.log(res);\r\n          // 刷新数据\r\n          this.reloadGetData();\r\n        });\r\n      }\r\n    },\r\n    isLogin() {\r\n      return this.$store.state.userInfo !== null;\r\n    },\r\n    // 父组件重新拿数据\r\n    reloadGetData() {\r\n      this.$emit('reloadGetData');\r\n    },\r\n    getDianZanDto() {\r\n      const obj = {\r\n        userId: this.$store.state.userInfo.userid,\r\n        noteId: this.$route.query.id,\r\n      };\r\n      return obj;\r\n    },\r\n  },\r\n  watch: {\r\n    contentData() {\r\n      // 防止页面闪动\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 300);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.note-content {\r\n  flex: 1;\r\n  background: #fff;\r\n  border-radius: 5px;\r\n  border: 1px solid #dcdcdc;\r\n  border-bottom: none;\r\n  // 解决flex：1被撑开导致滚动条显示异常\r\n  // overflow-y: hidden;\r\n\r\n  // .scrollbar {\r\n  // height: 100%;\r\n\r\n  // 隐藏横向滚动条\r\n  // & > .el-scrollbar__wrap {\r\n  //   overflow-x: hidden;\r\n  // }\r\n\r\n  .scrollbar-wrap {\r\n    padding: 20px 90px;\r\n\r\n    .note-content-skeleton-title {\r\n      width: 40%;\r\n      margin: auto;\r\n      margin-bottom: 10px;\r\n    }\r\n    .note-content-skeleton-note-detail {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n    }\r\n    .note-content-skeleton-author {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    .header {\r\n      font-size: 20px;\r\n      text-align: center;\r\n      margin-bottom: 10px;\r\n    }\r\n\r\n    .note-detail {\r\n      color: #b7b7b7;\r\n      font-size: 14px;\r\n      display: flex;\r\n      align-items: center;\r\n      // padding-left: 20px;\r\n\r\n      .active {\r\n        color: #409eff;\r\n      }\r\n\r\n      & > span {\r\n        margin-right: 20px;\r\n\r\n        .dianzan {\r\n          font-size: 14px;\r\n          user-select: none;\r\n          &:hover {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n\r\n        .jiaxingshoucang {\r\n          font-size: 14px;\r\n          font-weight: bold;\r\n          user-select: none;\r\n          &:hover {\r\n            cursor: pointer;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .author {\r\n      display: flex;\r\n      align-items: center;\r\n      margin: 10px 0px;\r\n\r\n      & > span {\r\n        font-size: 13px;\r\n        margin: 0px 5px;\r\n      }\r\n\r\n      .grade {\r\n        background: #ea3869;\r\n        color: #fff;\r\n        font-size: 12px;\r\n        border-radius: 2px;\r\n        padding: 2px 1px;\r\n      }\r\n    }\r\n\r\n    .like {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      padding: 8px 0px;\r\n\r\n      color: #bbbbbb;\r\n      .active {\r\n        color: #409eff;\r\n      }\r\n      .dianzan {\r\n        font-size: 20px;\r\n        margin-right: 20px;\r\n        user-select: none;\r\n        &:hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n      font-size: 13px;\r\n    }\r\n    .comment {\r\n      background: #fafbfd;\r\n    }\r\n  }\r\n  // }\r\n}\r\n</style>\r\n"]}]}